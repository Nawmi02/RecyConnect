{% extends "Admin/admin_base.html" %}
{% load static %}

{% block title %}My Profile Â· RecyConnect{% endblock %}

{% block content %}
<style>
  .p-wrap{
    min-height:60vh; display:flex; align-items:center; justify-content:center;
    padding:10px;
  }
  .p-card{
    width:100%; max-width:760px; background:#fff; border:1px solid #e5e7eb;
    border-radius:18px; box-shadow:0 10px 32px rgba(0,0,0,.08);
    padding:22px;
  }
  .p-head{
    display:flex; align-items:center; justify-content:space-between; margin-bottom:10px;
  }
  .p-title{ font-size:20px; font-weight:800; color:#065f46 }
  .p-edit{
    display:inline-flex; align-items:center; gap:8px; text-decoration:none;
    background:#16a34a; color:#fff; padding:10px 14px; border-radius:999px; font-weight:700;
  }
  .p-edit:hover{ filter:brightness(.95) }

  .p-center{
    display:flex; flex-direction:column; align-items:center; text-align:center;
    padding:10px 10px 18px;
  }
  .p-avatar{
    width:120px; height:120px; border-radius:50%; object-fit:cover;
    border:3px solid #e5e7eb;
  }
  .p-name{ font-size:22px; font-weight:800; color:#111827; margin-top:10px }
  .p-email{ color:#374151; font-weight:600; margin-top:4px }

  .p-grid{
    display:grid; grid-template-columns:1.1fr 1fr; gap:16px; margin-top:14px;
  }
  @media (max-width:760px){ .p-grid{ grid-template-columns:1fr; } }

  .p-box{
    background:#fafafa; border:1px solid #e5e7eb; border-radius:12px; padding:14px;
  }
  .p-label{ font-size:12px; font-weight:700; color:#6b7280; text-transform:uppercase; letter-spacing:.4px; margin-bottom:6px }
  .p-value{ font-size:15px; color:#111827; line-height:1.6; }
  .muted{ color:#9ca3af }

  .social-list{ display:flex; flex-direction:column; gap:10px; }
  .social-item{
    display:flex; align-items:center; gap:10px; padding:10px; border:1px solid #e5e7eb; border-radius:12px; background:#fff;
  }
  .social-item img{ width:22px; height:22px; object-fit:contain }
  .social-item a{ color:#2563eb; font-weight:600; text-decoration:none; word-break:break-all; }
  .social-item a:hover{ text-decoration:underline }
</style>

<div class="p-wrap">
  <div class="p-card">

    <div class="p-head">
      <div class="p-title">My Profile</div>
      <a class="p-edit" href="{% url 'adminpanel:settings' %}">
        Edit Profile
      </a>
    </div>

    <!-- Center block: avatar + name + email -->
    <div class="p-center">
      {% if request.user.profile_image %}
        <img class="p-avatar" src="{{ request.user.profile_image.url }}" alt="Profile">
      {% else %}
        <img class="p-avatar" src="{% static 'icons/avatar-placeholder.png' %}" alt="Profile">
      {% endif %}
      <div class="p-name">{{ request.user.name|default:"Admin User" }}</div>
      <div class="p-email">{{ request.user.email }}</div>
    </div>

    <!-- Info grid -->
    <div class="p-grid">
      <!-- Left: Phone + Address -->
      <div class="p-box">
        <div class="p-label">Phone</div>
        <div class="p-value">
          {% if request.user.phone %}{{ request.user.phone }}{% else %}<span class="muted">Not set</span>{% endif %}
        </div>

        <div class="p-label" style="margin-top:12px">Address</div>
        <div class="p-value">
          {% if request.user.address %}{{ request.user.address }}{% else %}<span class="muted">Not set</span>{% endif %}
        </div>
      </div>

      <!-- Right: Socials -->
      <div class="p-box">
        <div class="p-label">Social Profiles</div>
        <div class="social-list">
          <div class="social-item">
            <img src="{% static 'fb.png' %}" alt="Facebook">
            {% if request.user.facebook %}
              <a href="{{ request.user.facebook }}" target="_blank" rel="noopener">Facebook</a>
            {% else %}
              <span class="muted">Facebook not set</span>
            {% endif %}
          </div>
          <div class="social-item">
            <img src="{% static 'insta.jpeg' %}" alt="Instagram">
            {% if request.user.instagram %}
              <a href="{{ request.user.instagram }}" target="_blank" rel="noopener">Instagram</a>
            {% else %}
              <span class="muted">Instagram not set</span>
            {% endif %}
          </div>
          <div class="social-item">
            <img src="{% static 'X ic.jpg' %}" alt="X">
            {% if request.user.twitter %}
              <a href="{{ request.user.twitter }}" target="_blank" rel="noopener">Twitter / X</a>
            {% else %}
              <span class="muted">Twitter / X not set</span>
            {% endif %}
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

{% endblock %}
