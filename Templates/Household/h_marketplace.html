{% extends "h_base.html" %}
{% load static %}

{% block title %}Marketplace - RecyConnect{% endblock %}

{% block content %}
  <h2 style="margin-bottom:20px;">Marketplace</h2>

  <div class="product-list">
    {% for product in products %}
    <div class="product-card">
      <!-- Left: Image -->
      <div class="product-img">
        {% if product.image %}
          <img src="{{ product.image.url }}" alt="{{ product.name }}">
        {% else %}
          <img src="{% static 'placeholder.png' %}" alt="No Image">
        {% endif %}
      </div>

      <!-- Right: Details -->
      <div class="product-info">
        <h3>{{ product.name }}</h3>
        <p>‚öñÔ∏è <strong>Weight:</strong> {{ product.weight }} kg</p>
        <p>üìç <strong>Location:</strong> {{ product.location }}</p>
        <p>üõí <strong>Type:</strong> {{ product.product_type }}</p>
        <p>üìÖ <strong>Date:</strong> {{ product.date|date:"M d, Y" }}</p>
      </div>
    </div>
    {% empty %}
      <p>No products available right now.</p>
    {% endfor %}
  </div>

  <style>
    .product-list{
      display:flex;
      flex-direction:column;
      gap:20px;
    }
    .product-card{
      display:flex;
      gap:20px;
      padding:16px;
      border:1px solid #e5e7eb;
      border-radius:12px;
      background:#fff;
      box-shadow:0 2px 6px rgba(0,0,0,.05);
      transition:transform .2s;
    }
    .product-card:hover{ transform:translateY(-2px) }
    .product-img img{
      width:120px; height:120px; object-fit:cover;
      border-radius:10px; border:1px solid #ddd;
    }
    .product-info h3{ margin:0 0 8px; color:#19b34b; }
    .product-info p{ margin:4px 0; font-size:14px; color:#374151; }
  </style>
{% endblock %}
